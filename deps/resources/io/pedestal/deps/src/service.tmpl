(ns {{top/ns}}.{{main/ns}}.service
  "Defines the service for the {{name}} project."
  (:require [io.pedestal.http :as http]
            [io.pedestal.http.route :refer [routes-from]
            [io.pedestal.environment :refer [dev-mode?]]
            [{top.ns}.{main/ns}.routes :as routes])

(defn system-map
  []
  (-> {::http/port 8080
       ::http/type :jetty
       ::http/routes (routes-from routes/routes)
       ::http/join? false}
       http/default-interceptors
       (cond-> dev-mode? http/dev-interceptors)))

